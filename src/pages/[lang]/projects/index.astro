---
// src/pages/[lang]/projects/index.astro
import Layout from "../../../layouts/Layout.astro";
import { ProyectosCartas } from "../../../content/ProyectosCartas";
import type { Proyecto } from "../../../interfaces/interfaces";

// Definimos los idiomas posibles para getStaticPaths
export async function getStaticPaths() {
  return [
    { params: { lang: "es" } },
    { params: { lang: "en" } },
  ];
}

// Obtenemos el idioma desde la URL
const { lang } = Astro.params;
const isEnglish = lang === "en";
---

<Layout title={isEnglish ? "Projects" : "Proyectos"}>
  <div class="container mx-auto p-6">

    <!-- TÍTULO DE LA PÁGINA -->
    <h2 class="text-4xl font-semibold text-center mb-8">
      {isEnglish ? "Projects" : "Mis Proyectos"}
    </h2>

    <!-- GRID DE TARJETAS -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      {ProyectosCartas.map((proyecto: Proyecto) => (
        <a href={`/${lang}/projects/${isEnglish ? proyecto.slugEn ?? proyecto.slug : proyecto.slug}`}>
          <div class="bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-2xl transition-shadow">

            <!-- IMAGEN -->
            <img
              src={proyecto.imagenUrl}
              alt={isEnglish ? proyecto.tituloEn ?? proyecto.titulo : proyecto.titulo}
              class="w-full h-48 object-cover"
            />

            <!-- TÍTULO -->
            <h3
              class="text-xl font-semibold text-center text-gray-900 mt-4"
            >
              {isEnglish ? proyecto.tituloEn ?? proyecto.titulo : proyecto.titulo}
            </h3>

            <!-- DESCRIPCIÓN -->
            <p
              class="text-gray-600 text-center px-4 py-2"
            >
              {isEnglish ? proyecto.descripcionEn ?? proyecto.descripcion : proyecto.descripcion}
            </p>

            <!-- HERRAMIENTAS -->
            <p class="text-sm text-gray-500 text-center mb-4">
              <strong>{isEnglish ? "Tools" : "Herramientas"}:</strong> {proyecto.herramientas}
            </p>

          </div>
        </a>
      ))}
    </div>
  </div>
</Layout>
